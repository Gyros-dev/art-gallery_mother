<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Выставки</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/base.css">
    <link rel="stylesheet" href="../css/navbar.css">
    <link rel="stylesheet" href="../css/exhibitions.css">
    <link rel="stylesheet" href="../css/overlay.css">
    <!--    <link rel="stylesheet" href="css/layout.css">-->
    <!--    <link rel="stylesheet" href="css/gallery.css">-->
    <!--    <link rel="stylesheet" href="css/tooltip.css">-->
    <!--    <link rel="stylesheet" href="css/about.css">-->
    <!--    <link rel="stylesheet" href="css/literature.css">-->
    <!--    <link rel="stylesheet" href="css/animations.css">-->
</head>
<body>

<div id="navbar-placeholder"></div>

<main class="content">
    <h1>Расписание выставок</h1>
    <div id="exhibitions-list" class="exhibition-list"></div>
</main>

<!-- Оверлей предпросмотра -->
<div id="preview-overlay" style="display: none;">
    <div id="preview-close">×</div>
    <iframe id="preview-frame" src="" style="border: none;"></iframe>
</div>

<script src="../js/load-navbar.js"></script>
<!--<script src="load-exhibitions.js"></script>-->


<!-- Подключение скрипта -->
<script>
    fetch('../data/exhibitions.json')
        .then(res => res.json())
        .then(data => {
            const container = document.querySelector('.exhibition-list');
            data.forEach(item => {
                const card = document.createElement('div');
                card.className = 'exhibition-card';
                card.innerHTML = `
        <h2>${item.title}</h2>
        <p>${item.date}</p>
        <p>${item.location}</p>
        <p>${item.description}</p>
      `;
                if (item.url) {
                    card.classList.add('clickable');
                    card.addEventListener('click', () => {
                        document.getElementById('preview-frame').src = item.url;
                        document.getElementById('preview-overlay').style.display = 'flex';
                    });
                }
                container.appendChild(card);
            });
        });

    document.getElementById('preview-close').addEventListener('click', () => {
        document.getElementById('preview-overlay').style.display = 'none';
        document.getElementById('preview-frame').src = '';
    });

    document.getElementById('preview-overlay').addEventListener('click', (e) => {
        if (e.target.id === 'preview-overlay') {
            document.getElementById('preview-overlay').style.display = 'none';
            document.getElementById('preview-frame').src = '';
        }
    });
</script>

</body>
</html>